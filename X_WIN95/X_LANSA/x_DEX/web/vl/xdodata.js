LANSA.addComponent({id:"XDODATA",nm:"xDOData",ot:"rp",tp:"Reusable Part",de:"Data Manager",tl:14010001},function(l,oI,u){var lIO="";var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")||(l.gCL()=="LLL")){cL=l.gCL();}var Fd={F1:{nm:"EMPNO",ft:"A",ln:5,dc:0,lb:{"ENG":"Employee no....","FRA":"No employé  . .","JPN":"Employee no....","LLL":"Employee no...."}[cL],h1:{"ENG":"  Employ","FRA":"Salarié","JPN":"  Employ","LLL":"  Employ"}[cL],h2:{"ENG":"  Number","FRA":" ","JPN":"  Number","LLL":"  Number"}[cL],
h3:" ",de:{"ENG":"Employee Number","FRA":"Numéro d´employé","JPN":"Employee Number","LLL":"Employee Number"}[cL],dv:"",ia:["FE"]},F2:{nm:"EMPIMG",ft:"BL",ln:0,dc:0,lb:{"ENG":"Employee Image","FRA":"Image","JPN":"社員ｲﾒｰｼﾞ","LLL":"Employee Image"}[cL],h1:{"ENG":"Employee","FRA":"Image","JPN":"社員ｲﾒｰｼﾞ","LLL":"Employee"}[cL],h2:{"ENG":"Image","FRA":" ","JPN":" ","LLL":"Image"}[cL],h3:" ",de:{"ENG":"Employee Image","FRA":"Image","JPN":"社員ｲﾒｰｼﾞ","LLL":"Employee Image"}[cL],dv:l.SqlNull,ia:["ASQN","FE","LC"]
},F3:{nm:"DEPTMENT",ft:"A",ln:4,dc:0,lb:{"ENG":"Department.....","FRA":"Département . .","JPN":"部門コード...","LLL":"Department....."}[cL],h1:{"ENG":"  Dept","FRA":"Dépt","JPN":"部門","LLL":"  Dept"}[cL],h2:{"ENG":"  Code","FRA":" ","JPN":"コード","LLL":"  Code"}[cL],h3:" ",de:{"ENG":"Department Code","FRA":"Code du département","JPN":"部門コード","LLL":"Department Code"}[cL],dv:"",ia:["FE"]},F4:{nm:"SECTION",ft:"A",ln:2,dc:0,lb:{"ENG":"Section........","FRA":"Section . . . .","JPN":"課コード","LLL":"Section........"}[cL],
h1:{"ENG":"    Section","FRA":"Section","JPN":"課","LLL":"    Section"}[cL],h2:{"ENG":"     Code","FRA":" ","JPN":"コード","LLL":"     Code"}[cL],h3:" ",de:{"ENG":"Section Code","FRA":"Code section","JPN":"課コード","LLL":"Section Code"}[cL],dv:"",ia:["FE"]},F5:{nm:"SECDESC",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Description ...","FRA":"Description . .","JPN":"Description ...","LLL":"Description ..."}[cL],h1:{"ENG":"Section","FRA":"Description","JPN":"Section","LLL":"Section"}[cL],h2:{"ENG":"Description","FRA":"section","JPN":"Description","LLL":"Description"}[cL],
h3:" ",de:{"ENG":"Section Full Description","FRA":"Description de la section","JPN":"Section Full Description","LLL":"Section Full Description"}[cL],dv:"",ia:["FE","LC"]},F6:{nm:"SURNAME",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Surname........","FRA":"Nom . . . . . .","JPN":"社員姓","LLL":"Surname........"}[cL],h1:{"ENG":"Surname","FRA":"Nom","JPN":"社員姓","LLL":"Surname"}[cL],h2:" ",h3:" ",de:{"ENG":"Employee Surname","FRA":"Nom de l´employé","JPN":"社員姓","LLL":"Employee Surname"}[cL],dv:"",ia:["FE","LC"]
},F7:{nm:"GIVENAME",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Given names....","FRA":"Prénom(s) . . .","JPN":"社員名.......","LLL":"Given names...."}[cL],h1:{"ENG":"Given name(s)","FRA":"Prénom(s)","JPN":"社員名","LLL":"Given name(s)"}[cL],h2:" ",h3:" ",de:{"ENG":"Employee Given Name(s)","FRA":"Prénoms de l´employé","JPN":"社員名","LLL":"Employee Given Name(s)"}[cL],dv:"",ia:["FE","LC"]},F8:{nm:"ADDRESS1",ft:"A",ln:25,dc:0,lb:{"ENG":"Address 1......","FRA":"Adresse 1 . . .","JPN":"Address 1......","LLL":"Address 1......"}[cL],
h1:{"ENG":"Address line 1","FRA":"Adresse ligne 1","JPN":"Address line 1","LLL":"Address line 1"}[cL],h2:" ",h3:" ",de:{"ENG":"Street No and Name","FRA":"Adresse ligne 1","JPN":"Street No and Name","LLL":"Street No and Name"}[cL],dv:"",ia:["FE","LC"]},F9:{nm:"ADDRESS2",ft:"A",ln:25,dc:0,ks:"O",lb:{"ENG":"Address 2......","FRA":"Adresse 2 . . .","JPN":"Address 2......","LLL":"Address 2......"}[cL],h1:{"ENG":"Address line 2","FRA":"Adresse ligne 2","JPN":"Address line 2","LLL":"Address line 2"}[cL],
h2:" ",h3:" ",de:{"ENG":"Suburb or Town","FRA":"Adresse ligne 2","JPN":"Suburb or Town","LLL":"Suburb or Town"}[cL],dv:"",ia:["FE","LC"]},F10:{nm:"ADDRESS3",ft:"A",ln:25,dc:0,ks:"O",lb:{"ENG":"Country","FRA":"Adresse 3 . . .","JPN":"Country","LLL":"Country"}[cL],h1:{"ENG":"Country","FRA":"Adresse ligne 3","JPN":"Country","LLL":"Country"}[cL],h2:" ",h3:" ",de:{"ENG":"State and Country","FRA":"Adresse ligne 3","JPN":"State and Country","LLL":"State and Country"}[cL],dv:"",ia:["FE","LC"]},F11:{nm:"POSTCODE",
ft:"S",ln:6,dc:0,ec:"3",lb:{"ENG":"Post/zip code..","FRA":"Code postal . .","JPN":"Post/zip code..","LLL":"Post/zip code.."}[cL],h1:{"ENG":"Post/zip","FRA":"Code","JPN":"Post/zip","LLL":"Post/zip"}[cL],h2:{"ENG":"Code","FRA":"Postal","JPN":"Code","LLL":"Code"}[cL],h3:" ",de:{"ENG":"Post / Zip Code","FRA":"Code postal","JPN":"Post / Zip Code","LLL":"Post / Zip Code"}[cL],dv:0,ia:["FE"]},F12:{nm:"PHONEHME",ft:"A",ln:15,dc:0,lb:{"ENG":"Home phone.....","FRA":"Tél. personnel","JPN":"Home phone.....","LLL":"Home phone....."}[cL],
h1:{"ENG":"Home phone","FRA":"Téléphone","JPN":"Home phone","LLL":"Home phone"}[cL],h2:{"ENG":"Number","FRA":"Personnel","JPN":"Number","LLL":"Number"}[cL],h3:" ",de:{"ENG":"Home Phone Number","FRA":"Numéro de téléphone personnel","JPN":"Home Phone Number","LLL":"Home Phone Number"}[cL],dv:"",ia:["FE"]},F13:{nm:"PHONEBUS",ft:"A",ln:15,dc:0,lb:{"ENG":"Business ph....","FRA":"Tél. prof.  . .","JPN":"Business ph....","LLL":"Business ph...."}[cL],h1:{"ENG":"Business Phone","FRA":"Téléphone","JPN":"Business Phone","LLL":"Business Phone"}[cL],
h2:{"ENG":"Number","FRA":"professionnel","JPN":"Number","LLL":"Number"}[cL],h3:" ",de:{"ENG":"Business Phone Number","FRA":"Numéro de téléphone professionnel","JPN":"Business Phone Number","LLL":"Business Phone Number"}[cL],dv:"",ia:["FE"]},F14:{nm:"SALARY",ft:"P",ln:11,dc:2,ec:"1",lb:{"ENG":"Salary.........","FRA":"Salaire . . . .","JPN":"Salary.........","LLL":"Salary........."}[cL],h1:{"ENG":"Salary","FRA":"Salaire","JPN":"Salary","LLL":"Salary"}[cL],h2:" ",h3:" ",de:{"ENG":"Employee Salary","FRA":"Salaire de l´employé","JPN":"Employee Salary","LLL":"Employee Salary"}[cL],
dv:0,ia:["FE","RB"]},F15:{nm:"STARTDTE",ft:"S",ln:6,dc:0,ec:"Y",lb:{"ENG":"Start date.....","FRA":"Date d´entrée .","JPN":"入社日付","LLL":"Start date....."}[cL],h1:{"ENG":"Start","FRA":"Date","JPN":"入社","LLL":"Start"}[cL],h2:{"ENG":"Date","FRA":"d´entrée","JPN":"日付","LLL":"Date"}[cL],h3:" ",de:{"ENG":"Start Date (DDMMYY)","FRA":"Date d´entrée, JJMMAA","JPN":"入社日付(DDMMYY)","LLL":"Start Date (DDMMYY)"}[cL],dv:0,ia:["FE","RB"]},F16:{nm:"TERMDATE",ft:"S",ln:6,dc:0,ec:"Y",lb:{"ENG":"Term. date.....","FRA":"Date de départ","JPN":"退職日付","LLL":"Term. date....."}[cL],
h1:{"ENG":"Term.","FRA":"Date de","JPN":"退職","LLL":"Term."}[cL],h2:{"ENG":"Date","FRA":"départ","JPN":"日付","LLL":"Date"}[cL],h3:" ",de:{"ENG":"Termination Date (DDMMYY)","FRA":"Date de départ, JJMMAA","JPN":"退職日付(DDMMYY)","LLL":"Termination Date (DDMMYY)"}[cL],dv:0,ia:["FE","RB"]},F17:{nm:"MNTHSAL",ft:"P",ln:11,dc:2,ec:"1",lb:{"ENG":"Monthly Salary","FRA":"Salaire mensuel","JPN":"Monthly Salary","LLL":"Monthly Salary"}[cL],h1:{"ENG":"Monthly","FRA":"Salaire","JPN":"Monthly","LLL":"Monthly"}[cL],h2:{"ENG":"Salary","FRA":"mensuel","JPN":"Salary","LLL":"Salary"}[cL],
h3:" ",de:{"ENG":"Monthly Salary","FRA":"Salaire mensuel","JPN":"Monthly Salary","LLL":"Monthly Salary"}[cL],dv:0,ia:["FE","RB"]},F18:{nm:"DEPTDESC",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Description....","FRA":"Description . .","JPN":"Description....","LLL":"Description...."}[cL],h1:{"ENG":"Department","FRA":"Description","JPN":"Department","LLL":"Department"}[cL],h2:{"ENG":"Description","FRA":"Département","JPN":"Description","LLL":"Description"}[cL],h3:" ",de:{"ENG":"Department Description","FRA":"Département","JPN":"Department Description","LLL":"Department Description"}[cL],
dv:"",ia:["FE","LC"]},F19:{nm:"IO$STS",ft:"A",ln:2,dc:0,lb:{"ENG":"I/O status ....","FRA":"Statut I/O  . .","JPN":"I/O status ....","LLL":"I/O status ...."}[cL],h1:{"ENG":"I/O","FRA":"Statut","JPN":"I/O","LLL":"I/O"}[cL],h2:{"ENG":"Status","FRA":"I/O","JPN":"Status","LLL":"Status"}[cL],h3:" ",de:{"ENG":"Data base I/O operation status code","FRA":"Code statut opération I/O","JPN":"Data base I/O operation status code","LLL":"Data base I/O operation status code"}[cL],dv:"",ia:["FE"]}};var cO=l.rC(oI,
{an:"PRIM_OBJT",fd:Fd,pt:{IsEmployeesLoaded:{da:"rw"},SyncedWithServer:{da:"na"},isDeptsLoaded:{da:"rw"},Employees:{da:"r"},Departments:{da:"r"}},mt:{Open:{ps:{"Proxy":{pt:"i"}}},Close:{ps:{"Document":{pt:"i"}}},FindEmployeeProxyById:{ps:{"Identifier":{pt:"i"}}},UpdateEmployee:{ps:{"EmployeeDocument":{pt:"i"}}},Delete:{ps:{"EmployeeProxy":{pt:"i"}}},LoadData:{},LoadEmployees:{},LoadDepartments:{},FindDepartmentByCode:{ps:{"DepartmentCode":{pt:"i"}}},SyncAllChangesWithServer:{},ResetEmployeeCache:
{}},ev:{EmployeesLoaded:{},EmployeeDocumentCreated:{ps:{"EmployeeDocument":{pt:"i"}}},EmployeeUpdated:{ps:{"Employee":{pt:"i"}}},DepartmentsLoaded:{},SaveCompleted:{},SyncCompleted:{ps:{"Success":{pt:"i"},"Employee":{pt:"i"}}},InitFailure:{}},co:function(){cO.aN.call(this);var f=this.aF("XDODATA",Fd);var C0=this.cR("EMPDATALOADED","PRIM_BOLN");var C1=this.cR("DEPTDATALOADED","PRIM_BOLN");var C2=this.cR("EMPLOYEESDATA","PRIM_WEB","Json");var C3=this.cR("DEPTSDATA","PRIM_WEB","Json");var C4=this.cR("EMPLOYEES","PRIM_LCOL");
var C5=this.cR("EMPLOYEEDOCS","PRIM_LCOL");var C6=this.cR("DEPARTMENTS","PRIM_LCOL");C0.iC();C1.iC();C2.iC();C3.iC();C4.setCollects("XDOEMP");C4.iC();C5.setCollects("XDOEMPDOC");C5.iC();C6.setCollects("XDODEPT");C6.iC();C5.aH("SAVECOMPLETED",this,e1);C5.aH("SYNCCOMPLETED",this,e2);C4.aLF({"EMPNO":f.F1,"SURNAME":f.F6,"GIVENAME":f.F7,"ADDRESS1":f.F8,"ADDRESS2":f.F9,"ADDRESS3":f.F10,"POSTCODE":f.F11,"PHONEHME":f.F12,"PHONEBUS":f.F13,"DEPTMENT":f.F3,"SECTION":f.F4,"SALARY":f.F14,"STARTDTE":f.F15,"TERMDATE":f.F16,"MNTHSAL":f.F17,"EMPIMG":f.F2});
C6.aLF({"DEPTMENT":f.F3,"DEPTDESC":f.F18});var li=this.aL("XDODATA");li.ALLIMAGES=l.cLT({"EMPNO":f.F1,"EMPIMG":f.F2},null);li.SECTIONS=l.cLT({"DEPTMENT":f.F3,"SECTION":f.F4,"SECDESC":f.F5},null);}});cO.mthGETCHECKSYNCSTATUS=function(){var m=this.REF,r=l.pR(this,cO,"GetCheckSyncStatus",64);var P0=r.cP("PROPERTY","PRIM_BOLN");r.ln=64;{r.ln=68;P0.set(true);r.ln=71;{var i1=m.EMPLOYEES.cI();while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());r.ln=73;P0.set(l.s.eq(EMPLOYEE.getSYNCSTATUS(),"SYNCED"));
r.ln=74;if(l.tB(l.not(P0.get()))){break;}r.ln=76;}i1.end();r.dR("EMPLOYEE");}}r.ln=79;return r.rV(P0.get());};function e1(SENDER,Ps){var r=l.eR(this,cO,"#EmployeeDocs<>.SaveCompleted",85);r.ln=85;{r.ln=87;this.fE("SAVECOMPLETED");r.ln=88;cO.mthUPDATEEMPLOYEE.call(this,SENDER);}r.ln=90;r.e();};function e2(SENDER,Ps){var m=this.REF,r=l.eR(this,cO,"#EmployeeDocs<>.SyncCompleted",93);r.ln=93;{r.ln=95;if(l.s.eq(SENDER.getSYNCSTATUS(),"SYNCED")){r.ln=97;SENDER.getPROXY().setSYNCSTATUS("SYNCED");r.ln=98;
this.mthRESETEMPLOYEECACHE();r.ln=99;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(true);eP.sR("EMPLOYEE",SENDER.getPROXY());this.fE("SYNCCOMPLETED",eP);eP.e();}}else{r.ln=103;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(false);eP.sR("EMPLOYEE",SENDER.getPROXY());this.fE("SYNCCOMPLETED",eP);eP.e();}}r.ln=107;m.EMPLOYEEDOCS.mthREMOVE(SENDER);}r.ln=109;r.e();};cO.mthOPEN=function(p0){var m=this.REF,r=l.mR(this,cO,"Open",116);
var P0=r.cPD("PROXY");var P1=r.cPD("DOCUMENT");P0=p0;r.ln=116;{r.ln=120;P1=r.sR("P1",l.cC("XDOEMPDOC"));r.ln=121;P1.mthPREPARE(P0);r.ln=123;m.EMPLOYEEDOCS.mthINSERT(P1);}r.ln=125;return r.rR(P1);};cO.mthCLOSE=function(p0){var m=this.REF,r=l.mR(this,cO,"Close",127);var P0=r.cPD("DOCUMENT");P0=p0;r.ln=127;{r.ln=130;m.EMPLOYEEDOCS.mthREMOVE(P0);}r.ln=132;r.e();};cO.mthFINDEMPLOYEEPROXYBYID=function(p0){var m=this.REF,r=l.mR(this,cO,"FindEmployeeProxyById",134);var P0=r.cP("IDENTIFIER","PRIM_ALPH");var P1=r.cPD("RESULT");
P0.set(p0);r.ln=134;{r.ln=138;{var i1=m.EMPLOYEES.cI();while(i1.step()){var PROXY=r.sR("PROXY",i1.item());r.ln=140;if(l.tB(l.s.eq(PROXY.getIDENTIFIER(),P0.get()))){r.ln=142;P1=r.sR("P1",PROXY);r.ln=143;break;}r.ln=147;}i1.end();r.dR("PROXY");}}r.ln=149;return r.rR(P1);};cO.mthUPDATEEMPLOYEE=function(p0){var m=this.REF,r=l.mR(this,cO,"UpdateEmployee",151);var P0=r.cPD("EMPLOYEEDOCUMENT");P0=p0;r.ln=151;{r.ln=155;if((P0.getPROXY()==null)){r.ln=158;m.EMPLOYEES.mthINSERT(l.cC("XDOEMP"));r.ln=159;m.EMPLOYEES.getLast().mthUPDATE(P0);
r.ln=160;P0.setPROXY(m.EMPLOYEES.getLast());}else{r.ln=165;P0.getPROXY().mthUPDATE(P0);}r.ln=170;{var eP=l.ePs();eP.cD("EMPLOYEE");eP.sR("EMPLOYEE",P0.getPROXY());this.fE("EMPLOYEEUPDATED",eP);eP.e();}r.ln=173;this.mthRESETEMPLOYEECACHE();}r.ln=175;r.e();};cO.mthDELETE=function(p0){var f=this.FLD.XDODATA,m=this.REF,r=l.mR(this,cO,"Delete",177);var P0=r.cPD("EMPLOYEEPROXY");P0=p0;var C0=r.cDR("SENDTOSERVER","XDOSERVER","DELETE");C0.iC();C0.aH("COMPLETED",this,e3);C0.aH("FAILED",this,e4);r.ln=177;{
r.ln=183;P0.setSYNCSTATUS("UNSYNCEDDELETE");r.ln=184;this.mthRESETEMPLOYEECACHE();r.ln=185;{var eP=l.ePs();eP.cD("EMPLOYEE");eP.sR("EMPLOYEE",P0);this.fE("EMPLOYEEUPDATED",eP);eP.e();}r.ln=187;C0.mthEXECUTEASYNC({FLD:{"EMPNO":P0.getIDENTIFIER()}},{FLD:{"IO$STS":f.F19}});}r.ln=207;r.e();function e3(sender,Ps){var r=l.eR(this,cO,"#SendtoServer.Completed",189);r.ln=189;{r.ln=192;this.mthRESETEMPLOYEECACHE();r.ln=193;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(true);
eP.sR("EMPLOYEE",P0);this.fE("SYNCCOMPLETED",eP);eP.e();}r.ln=196;m.EMPLOYEES.mthREMOVE(P0);r.ln=197;this.mthRESETEMPLOYEECACHE();}r.ln=199;r.e();}function e4(sender,Ps){var r=l.eR(this,cO,"#SendtoServer.failed",201);r.ln=201;{r.ln=203;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(false);eP.sR("EMPLOYEE",P0);this.fE("SYNCCOMPLETED",eP);eP.e();}}r.ln=205;r.e();}};cO.mthLOADDATA=function(){var r=l.mR(this,cO,"LoadData",209);r.ln=209;{r.ln=211;this.mthLOADEMPLOYEES();
r.ln=212;this.mthLOADDEPARTMENTS();}r.ln=214;r.e();};cO.mthLOADEMPLOYEES=function(){var li=this.LIST.XDODATA,f=this.FLD.XDODATA,m=this.REF,r=l.mR(this,cO,"LoadEmployees",217);var C0=r.cD("C0");var C1=r.cD("C1");var C2=r.cD("C2");var C3=r.cDR("GETEMPLOYEESBYSURNAME","XDOSERVER","FINDPSLMST2");var C4=r.cDR("GETEMPLOYEEIMAGES","XDOSERVER","FINDALLIMAGES");C3.iC();C4.iC();C3.aH("COMPLETED",this,e5);C3.aH("FAILED",this,e6);C4.aH("COMPLETED",this,e7);C4.aH("FAILED",this,e8);r.ln=217;{r.ln=229;C0=r.sR("C0",m.EMPLOYEESDATA.mthCREATEROOTOBJECT());
r.ln=230;C1=r.sR("C1",C0.mthINSERTARRAY("EMPLOYEES"));r.ln=233;if((l.WEB().getLocalStorage().get("XDOEMPLOYEES")!=null)){r.ln=235;m.EMPLOYEESDATA.set(l.WEB().getLocalStorage().get("XDOEMPLOYEES").getValue());r.ln=237;m.EMPLOYEES.clearList();r.ln=238;{var i1=m.EMPLOYEESDATA.getRootItem().getItem("EMPLOYEES").cI();while(i1.step()){var ITEM=r.sR("ITEM",i1.item());r.ln=240;m.EMPLOYEES.addEntry();r.ln=242;m.EMPLOYEES.get(m.EMPLOYEES.getItemCount()).mthPOPULATEFROMJSON(ITEM);r.ln=245;if(l.s.ne(m.EMPLOYEES.getItem(m.EMPLOYEES.getItemCount()).getSYNCSTATUS(),"SYNCED"))
{r.ln=247;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(false);eP.sR("EMPLOYEE",null);this.fE("SYNCCOMPLETED",eP);eP.e();}}r.ln=252;}i1.end();r.dR("ITEM");}r.ln=254;C4.mthEXECUTEASYNC({},{LIST:{"ALLIMAGES":li.ALLIMAGES}});}else{r.ln=259;C3.mthEXECUTEASYNC({},{LIST:{"EMPLOYEES":m.EMPLOYEES}});}}r.ln=308;r.e();function e5(sender,Ps){var r=l.eR(this,cO,"#GetEmployeesBySurname.Completed",264);r.ln=264;{r.ln=266;this.mthRESETEMPLOYEECACHE();r.ln=269;this.setISEMPLOYEESLOADED(true);
r.ln=271;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(true);eP.sR("EMPLOYEE",null);this.fE("SYNCCOMPLETED",eP);eP.e();}r.ln=273;this.fE("EMPLOYEESLOADED");}r.ln=275;r.e();}function e6(sender,Ps){var r=l.eR(this,cO,"#GetEmployeesBySurname.Failed",278);r.ln=278;{r.ln=280;this.fE("INITFAILURE");}r.ln=282;r.e();}function e7(sender,Ps){var r=l.eR(this,cO,"#GetEmployeeImages.Completed",284);r.ln=284;{r.ln=286;{var i1=m.EMPLOYEES.cI();while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());
r.ln=288;f.F19.set(lIO=li.ALLIMAGES.locateEntry(function(e){return l.s.eq(EMPLOYEE.getIDENTIFIER(),e[0])},null,true));r.ln=290;EMPLOYEE.setIMAGEBLOB(f.F2.get());r.ln=292;}i1.end();r.dR("EMPLOYEE");}r.ln=294;this.setISEMPLOYEESLOADED(true);r.ln=296;this.fE("EMPLOYEESLOADED");}r.ln=298;r.e();}function e8(sender,Ps){var r=l.eR(this,cO,"#GetEmployeeImages.Failed",300);r.ln=300;{r.ln=302;this.setISEMPLOYEESLOADED(true);r.ln=304;this.fE("EMPLOYEESLOADED");}r.ln=306;r.e();}};cO.mthLOADDEPARTMENTS=function()
{var li=this.LIST.XDODATA,f=this.FLD.XDODATA,m=this.REF,r=l.mR(this,cO,"LoadDepartments",310);var C0=r.cD("C0");var C1=r.cD("C1");var C2=r.cD("C2");var C3=r.cD("C3");var C4=r.cD("C4");var C5=r.cDR("GETDEPTS","XDOSERVER","LISTDATA");C5.iC();C5.aH("COMPLETED",this,e9);r.ln=310;{r.ln=329;if((l.WEB().getLocalStorage().get("XDODEPARTMENTS")!=null)){r.ln=332;m.DEPTSDATA.set(l.WEB().getLocalStorage().get("XDODEPARTMENTS").getValue());r.ln=335;m.DEPARTMENTS.clearList();r.ln=338;{var i1=m.DEPTSDATA.getRootItem().getItem("DEPARTMENTS").cI();
while(i1.step()){var DITEM=r.sR("DITEM",i1.item());r.ln=340;m.DEPARTMENTS.addEntry();r.ln=341;m.DEPARTMENTS.getItem(m.DEPARTMENTS.getItemCount()).mthPOPULATEFROMJSON(DITEM);r.ln=343;}i1.end();r.dR("DITEM");}r.ln=346;this.setISDEPTSLOADED(true);r.ln=347;this.fE("DEPARTMENTSLOADED");}else{r.ln=352;C5.mthEXECUTEASYNC({},{LIST:{"DEPARTMENTS":m.DEPARTMENTS,"SECTIONS":li.SECTIONS}});}}r.ln=388;r.e();function e9(sender,Ps){var r=l.eR(this,cO,"#GetDepts.Completed",357);r.ln=357;{r.ln=360;C0=r.sR("C0",m.DEPTSDATA.mthCREATEROOTOBJECT());
r.ln=362;C1=r.sR("C1",C0.mthINSERTARRAY("DEPARTMENTS"));r.ln=364;{var i1=m.DEPARTMENTS.cI();while(i1.step()){var DEPARTMENT=r.sR("DEPARTMENT",i1.item());r.ln=367;for(var i2=1;i2<=li.SECTIONS.entryCount();i2++){li.SECTIONS.getEntry(i2);if(!(l.s.eq(DEPARTMENT.getIDENTIFIER(),f.F3.get()))){continue;}r.ln=369;DEPARTMENT.mthADDSECTION(f.F4.get(),f.F5.get());}r.ln=374;DEPARTMENT.mthSAVEASJSON(C1);r.ln=376;}i1.end();r.dR("DEPARTMENT");}r.ln=378;if((l.WEB().getLocalStorage().get("XDODEPARTMENTS")==null))
{r.ln=379;l.WEB().getLocalStorage().mthADD("XDODEPARTMENTS",m.DEPTSDATA.getText());}r.ln=383;this.setISDEPTSLOADED(true);r.ln=384;this.fE("DEPARTMENTSLOADED");}r.ln=386;r.e();}};cO.mthFINDDEPARTMENTBYCODE=function(p0){var m=this.REF,r=l.mR(this,cO,"FindDepartmentByCode",390);var P0=r.cP("DEPARTMENTCODE","PRIM_ALPH");var P1=r.cPD("RESULT");P0.set(p0);P1=null;r.ln=390;{r.ln=394;{var i1=m.DEPARTMENTS.cI();while(i1.step()){var PROXY=r.sR("PROXY",i1.item());r.ln=396;if(l.tB(l.s.eq(PROXY.getIDENTIFIER(),P0.get())))
{r.ln=398;P1=r.sR("P1",PROXY);r.ln=400;break;}r.ln=404;}i1.end();r.dR("PROXY");}}r.ln=406;return r.rR(P1);};cO.mthSYNCALLCHANGESWITHSERVER=function(){var m=this.REF,r=l.mR(this,cO,"SyncAllChangesWithServer",409);r.ln=409;{r.ln=411;m.EMPLOYEEDOCS.mthREMOVEALL();r.ln=414;{var i1=m.EMPLOYEES.cI();while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());r.ln=416;{var v1=EMPLOYEE.getSYNCSTATUS();if(r.ln=418,l.s.eq(v1,"UNSYNCED")){r.ln=420;cO.mthOPEN.call(this,EMPLOYEE);}else if(r.ln=422,l.s.eq(v1,"UNSYNCEDDELETE"))
{r.ln=424;cO.mthDELETE.call(this,EMPLOYEE);}r.ln=426;}r.ln=428;}i1.end();r.dR("EMPLOYEE");}r.ln=431;{var i1=m.EMPLOYEEDOCS.cI();while(i1.step()){var DOCUMENT=r.sR("DOCUMENT",i1.item());r.ln=433;DOCUMENT.mthSYNC();r.ln=435;}i1.end();r.dR("DOCUMENT");}}r.ln=437;r.e();};cO.mthRESETEMPLOYEECACHE=function(){var m=this.REF,r=l.mR(this,cO,"ResetEmployeeCache",440);var C0=r.cD("C0");var C1=r.cD("C1");r.ln=440;{r.ln=447;if((m.EMPLOYEESDATA.getRootItem()!=null)){r.ln=448;m.EMPLOYEESDATA.getRootItem().mthREMOVEALL();
}r.ln=450;C0=r.sR("C0",m.EMPLOYEESDATA.mthCREATEROOTOBJECT());r.ln=451;C1=r.sR("C1",C0.mthINSERTARRAY("EMPLOYEES"));r.ln=453;{var i1=this.getEMPLOYEES().cI();while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());r.ln=455;EMPLOYEE.mthSAVEASJSON(C1);r.ln=457;}i1.end();r.dR("EMPLOYEE");}r.ln=459;if((l.WEB().getLocalStorage().get("XDOEMPLOYEES")==null)){r.ln=461;l.WEB().getLocalStorage().mthADD("XDOEMPLOYEES",m.EMPLOYEESDATA.getText());}else{r.ln=465;l.WEB().getLocalStorage().get("XDOEMPLOYEES").set(m.EMPLOYEESDATA.getText());
}}r.ln=469;r.e();};cO.getISEMPLOYEESLOADED=function(){return this.REF.EMPDATALOADED.get();};cO.setISEMPLOYEESLOADED=function(v){this.REF.EMPDATALOADED.set(v);};cO.getSYNCEDWITHSERVER=function(){return this.mthGETCHECKSYNCSTATUS();};cO.getISDEPTSLOADED=function(){return this.REF.DEPTDATALOADED.get();};cO.setISDEPTSLOADED=function(v){this.REF.DEPTDATALOADED.set(v);};cO.getEMPLOYEES=function(){return this.REF.EMPLOYEES;};cO.getDEPARTMENTS=function(){return this.REF.DEPARTMENTS;};},{rp:["PRIM_OBJT","PRIM_BOLN","PRIM_WEB.Json","PRIM_LCOL","PRIM_WEB.DataRequest"],
dp:["PRIM_WEB.JsonObject","PRIM_WEB.JsonArray"]});