LANSA.addComponent({id:"XKMAPP",nm:"XKMApplication",ot:"rp",tp:"Reusable Part",de:"Application Object",tl:14010000},function(l,oI,u){var cL="ENG";var Fd={F1:{nm:"XDEMONUMB",ft:"P",ln:7,dc:0,ec:"J",lb:"Number",h1:"Number",h2:" ",h3:" ",de:"Number",dv:0,ia:["FE","RB"]}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,pt:{ActiveContentPanel:{da:"na"},ActiveView:{da:"r"},ActiveOrientation:{da:"r"}},mt:{DesignChanged:{ps:{"Design":{pt:"i"}}},SizeChanged:{ps:{"Width":{pt:"i"},"Height":{pt:"i"}}},ActivateMobileView:
{},ActivateTabletView:{},ActivateDesktopView:{},Show_HOME:{},Show_ABOUT:{},Show_CONTACT:{},Show:{ps:{"Content":{pt:"i"}}},Show_DATA:{},Login:{ps:{"sUser":{pt:"i"},"sPassword":{pt:"i"}}},Logout:{},Create:{},Created:{ps:{"ID":{pt:"i"}}},Open:{ps:{"ID":{pt:"i"}}},Close:{},Save:{},Saved:{ps:{"ID":{pt:"i"}}},Delete:{},Deleted:{ps:{"ID":{pt:"i"}}},ShowMessages:{}},ev:{MobileView:{},TabletView:{},DesktopView:{},HideContent:{},ShowContent:{},ShowHome:{},ShowAbout:{},ShowContact:{},ShowData:{},LoggedIn:{},
LoggedOut:{},InvalidLogin:{},Creating:{},Opening:{ps:{"ID":{pt:"i"}}},Closing:{},Saving:{},Deleting:{},Changed:{ps:{"ID":{pt:"i"},"Reason":{pt:"i"}}}},co:function(){cO.aN.call(this);this.aF("XKMAPP",Fd);var C0=this.cR("CONTENT_HOME","XKMHOME");var C1=this.cR("CONTENT_ABOUT","XKMABOUT");var C2=this.cR("CONTENT_CONTACT","XKMCONT");var C3=this.cR("ACTIVEVIEW","PRIM_ALPH");var C4=this.cR("ACTIVECONTENT","PRIM_ALPH");var C5=this.cR("ACTIVEORIENTATION","PRIM_ALPH");this.cD("ACTIVEDESIGN");var C7=this.cR("CONTENT_DATA","XKMDATA");
var C8=this.cR("LOGIN","XKMLOGIN");var C9=this.cR("MESSAGES","XKMMSGS");C0.iC();C1.iC();C2.iC();C3.setValue("MOBILE");C3.iC();C4.setValue("HOME");C4.iC();C5.setValue("LANDSCAPE");C5.iC();C7.iC();C8.iC();C9.iC();l.WEB().aH("REQUESTFAILED",this,e3);}});cO.mthDESIGNCHANGED=function(p0){var m=this.REF,r=l.mR(this,cO,"DesignChanged",64);var P0=r.cPD("DESIGN");P0=p0;r.ln=64;{r.ln=67;this.srACTIVEDESIGN(P0);r.ln=69;if((P0==null)){r.ln=71;this.mthACTIVATEDESKTOPVIEW();}else{r.ln=75;if(l.s.eq(P0.getName(),"MOBILEDESIGN"))
{r.ln=77;this.mthACTIVATEMOBILEVIEW();}else{r.ln=81;this.mthACTIVATETABLETVIEW();}}}r.ln=87;r.e();};cO.mthSIZECHANGED=function(p0,p1){var m=this.REF,r=l.mR(this,cO,"SizeChanged",89);var P0=r.cP("WIDTH","PRIM_NMBR");var P1=r.cP("HEIGHT","PRIM_NMBR");P0.set(p0);P1.set(p1);r.ln=89;{r.ln=93;if(l.tB(l.n.gt(P0.get(),P1.get()))){r.ln=95;if(l.tB(l.s.ne(m.ACTIVEORIENTATION.get(),"LANDSCAPE"))){r.ln=97;m.ACTIVEORIENTATION.set("LANDSCAPE");r.ln=99;cO.mthDESIGNCHANGED.call(this,m.ACTIVEDESIGN);}}else{r.ln=105;
if(l.tB(l.s.ne(m.ACTIVEORIENTATION.get(),"PORTRAIT"))){r.ln=107;m.ACTIVEORIENTATION.set("PORTRAIT");r.ln=109;cO.mthDESIGNCHANGED.call(this,m.ACTIVEDESIGN);}}}r.ln=115;r.e();};cO.mthGETACTIVECONTENTPANEL=function(){var m=this.REF,r=l.pR(this,cO,"GetActiveContentPanel",117);var P0=r.cPD("RESULT");r.ln=117;{r.ln=120;{var v1=m.ACTIVECONTENT.get();if(r.ln=122,l.s.eq(v1,"HOME")){r.ln=124;P0=r.sR("P0",m.CONTENT_HOME);}else if(r.ln=126,l.s.eq(v1,"ABOUT")){r.ln=128;P0=r.sR("P0",m.CONTENT_ABOUT);}else if(r.ln=130,l.s.eq(v1,"CONTACT"))
{r.ln=132;P0=r.sR("P0",m.CONTENT_CONTACT);}else if(r.ln=135,l.s.eq(v1,"DATA")){r.ln=137;P0=r.sR("P0",m.CONTENT_DATA);}r.ln=140;}r.ln=142;if((P0==null)){r.ln=144;l.WEB().mthALERT("Unknown application view");}}r.ln=148;return r.rR(P0);};cO.mthACTIVATEMOBILEVIEW=function(){var m=this.REF,r=l.mR(this,cO,"ActivateMobileView",150);r.ln=150;{r.ln=152;this.fE("HIDECONTENT");r.ln=154;m.ACTIVEVIEW.set("MOBILE");r.ln=156;this.fE("MOBILEVIEW");r.ln=158;this.fE("SHOWCONTENT");}r.ln=160;r.e();};cO.mthACTIVATETABLETVIEW=function()
{var m=this.REF,r=l.mR(this,cO,"ActivateTabletView",162);r.ln=162;{r.ln=164;this.fE("HIDECONTENT");r.ln=166;m.ACTIVEVIEW.set("TABLET");r.ln=168;this.fE("TABLETVIEW");r.ln=170;this.fE("SHOWCONTENT");}r.ln=172;r.e();};cO.mthACTIVATEDESKTOPVIEW=function(){var m=this.REF,r=l.mR(this,cO,"ActivateDesktopView",174);r.ln=174;{r.ln=176;this.fE("HIDECONTENT");r.ln=178;m.ACTIVEVIEW.set("DESKTOP");r.ln=180;this.fE("DESKTOPVIEW");r.ln=182;this.fE("SHOWCONTENT");}r.ln=184;r.e();};cO.mthSHOW_HOME=function(){var r=l.mR(this,cO,"Show_HOME",186);
r.ln=186;{r.ln=188;cO.mthSHOW.call(this,"HOME");r.ln=190;this.fE("SHOWHOME");}r.ln=192;r.e();};cO.mthSHOW_ABOUT=function(){var r=l.mR(this,cO,"Show_ABOUT",194);r.ln=194;{r.ln=196;cO.mthSHOW.call(this,"ABOUT");r.ln=198;this.fE("SHOWABOUT");}r.ln=200;r.e();};cO.mthSHOW_CONTACT=function(){var r=l.mR(this,cO,"Show_CONTACT",202);r.ln=202;{r.ln=204;cO.mthSHOW.call(this,"CONTACT");r.ln=206;this.fE("SHOWCONTACT");}r.ln=208;r.e();};cO.mthSHOW=function(p0){var m=this.REF,r=l.mR(this,cO,"Show",210);var P0=r.cP("CONTENT","PRIM_ALPH");
P0.set(p0);r.ln=210;{r.ln=213;this.fE("HIDECONTENT");r.ln=215;m.ACTIVECONTENT.set(P0.get());r.ln=217;this.fE("SHOWCONTENT");}r.ln=219;r.e();};cO.mthSHOW_DATA=function(){var r=l.mR(this,cO,"Show_DATA",222);r.ln=222;{r.ln=224;cO.mthSHOW.call(this,"DATA");r.ln=226;this.fE("SHOWDATA");}r.ln=228;r.e();};cO.mthLOGIN=function(p0,p1){var r=l.mR(this,cO,"Login",230);var P0=r.cP("SUSER","PRIM_ALPH");var P1=r.cP("SPASSWORD","PRIM_ALPH");P0.set(p0);P1.set(p1);var C0=r.cDR("LOGINSERVICE","XKMSERV","LOGIN");var C1=r.cR("RETURNCODE","PRIM_ALPH");
C0.iC();C1.iC();C0.aH("COMPLETED",this,e1);r.ln=230;{r.ln=237;C0.mthEXECUTEASYNC({FLD:{"STD_TEXTL":P0.get(),"STD_TEXT":P1.get()}},{FLD:{"IO$STS":C1}});}r.ln=253;r.e();function e1(sender,Ps){var r=l.eR(this,cO,"#LoginService.Completed",239);r.ln=239;{r.ln=241;if(l.tB(l.s.eq(C1.get(),"OK"))){r.ln=243;this.fE("LOGGEDIN");}else{r.ln=247;this.fE("INVALIDLOGIN");}}r.ln=251;r.e();}};cO.mthLOGOUT=function(){var m=this.REF,r=l.mR(this,cO,"Logout",255);var C0=r.cDR("LOGOUTSERVICE","XKMSERV","LOGOUT");C0.iC();
C0.aH("COMPLETED",this,e2);r.ln=255;{r.ln=259;C0.mthEXECUTEASYNC({},{});}r.ln=273;r.e();function e2(sender,Ps){var r=l.eR(this,cO,"#LogoutService.Completed",261);r.ln=261;{r.ln=263;this.fE("LOGGEDOUT");r.ln=265;if(l.tB(l.s.eq(m.ACTIVECONTENT.get(),"DATA"))){r.ln=267;this.mthSHOW_HOME();}}r.ln=271;r.e();}};cO.mthCREATE=function(){var r=l.mR(this,cO,"Create",275);r.ln=275;{r.ln=277;this.fE("CREATING");}r.ln=279;r.e();};cO.mthCREATED=function(p0){var r=l.mR(this,cO,"Created",281);var P0=r.cPF("ID",Fd.F1.Dc);
P0.set(p0);r.ln=281;{r.ln=284;{var eP=l.ePs();eP.cF("ID",Fd.F1.Dc);eP.cR("REASON","PRIM_ALPH");eP.r("ID").set(P0.get());eP.r("REASON").set("CREATED");this.fE("CHANGED",eP);eP.e();}}r.ln=286;r.e();};cO.mthOPEN=function(p0){var r=l.mR(this,cO,"Open",288);var P0=r.cPF("ID",Fd.F1.Dc);P0.set(p0);r.ln=288;{r.ln=291;{var eP=l.ePs();eP.cF("ID",Fd.F1.Dc);eP.r("ID").set(P0.get());this.fE("OPENING",eP);eP.e();}}r.ln=293;r.e();};cO.mthCLOSE=function(){var r=l.mR(this,cO,"Close",295);r.ln=295;{r.ln=297;this.fE("CLOSING");
}r.ln=299;r.e();};cO.mthSAVE=function(){var r=l.mR(this,cO,"Save",301);r.ln=301;{r.ln=303;this.fE("SAVING");}r.ln=305;r.e();};cO.mthSAVED=function(p0){var r=l.mR(this,cO,"Saved",307);var P0=r.cPF("ID",Fd.F1.Dc);P0.set(p0);r.ln=307;{r.ln=311;{var eP=l.ePs();eP.cF("ID",Fd.F1.Dc);eP.cR("REASON","PRIM_ALPH");eP.r("ID").set(P0.get());eP.r("REASON").set("UPDATED");this.fE("CHANGED",eP);eP.e();}}r.ln=313;r.e();};cO.mthDELETE=function(){var r=l.mR(this,cO,"Delete",315);r.ln=315;{r.ln=317;this.fE("DELETING");
}r.ln=319;r.e();};cO.mthDELETED=function(p0){var r=l.mR(this,cO,"Deleted",321);var P0=r.cPF("ID",Fd.F1.Dc);P0.set(p0);r.ln=321;{r.ln=324;{var eP=l.ePs();eP.cF("ID",Fd.F1.Dc);eP.cR("REASON","PRIM_ALPH");eP.r("ID").set(P0.get());eP.r("REASON").set("DELETED");this.fE("CHANGED",eP);eP.e();}}r.ln=326;r.e();};cO.mthSHOWMESSAGES=function(){var m=this.REF,r=l.mR(this,cO,"ShowMessages",328);r.ln=328;{r.ln=330;m.MESSAGES.mthSHOW();}r.ln=332;r.e();};function e3(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#sys_web.RequestFailed",334);
var P0=Ps.r("HANDLED");var P1=Ps.r("REASON");var P2=Ps.r("REQUEST");r.ln=334;{r.ln=336;P0.set(true);r.ln=338;{var v1=P1.get();if(r.ln=340,l.s.eq(v1,"SESSIONINVALID")){r.ln=342;this.fE("LOGGEDOUT");r.ln=344;m.LOGIN.mthLOGIN();}else{r.ln=348;l.MSGQ().mthADD("There was a problem with the server");r.ln=350;l.MSGQ().mthADD(l.s.Substitute("Request &1.&2 failed - Reason &3",P2.getServerModule(),P2.getRoutine(),P1.get()));r.ln=352;this.mthSHOWMESSAGES();}r.ln=354;}}r.ln=356;r.e();};cO.getACTIVECONTENTPANEL=function()
{return this.mthGETACTIVECONTENTPANEL();};cO.getACTIVEVIEW=function(){return this.REF.ACTIVEVIEW.get();};cO.getACTIVEORIENTATION=function(){return this.REF.ACTIVEORIENTATION.get();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"XDEMONUMB"});}cO.srACTIVEDESIGN=function(rn){this.sR("ACTIVEDESIGN",rn);};},{rc:["XKMHOME","XKMABOUT","XKMCONT","XKMDATA","XKMLOGIN","XKMMSGS"],rp:["PRIM_OBJT","PRIM_ALPH","PRIM_WEB.DataRequest","PRIM_FLD","PRIM_MSGQ"],dp:["PRIM_DESN.Design","PRIM_ALPH"]
});