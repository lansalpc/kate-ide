LANSA.addComponent({id:"XDODATA",nm:"xDOData",ot:"rp",tp:"Reusable Part",de:"Data Manager",tl:14010001},function(l,oI,u){var lIO="";var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")||(l.gCL()=="LLL")){cL=l.gCL();}var Fd={F1:{nm:"EMPNO",ft:"A",ln:5,dc:0,lb:{"ENG":"Employee no....","FRA":"No employé  . .","JPN":"Employee no....","LLL":"Employee no...."}[cL],h1:{"ENG":"  Employ","FRA":"Salarié","JPN":"  Employ","LLL":"  Employ"}[cL],h2:{"ENG":"  Number","FRA":" ","JPN":"  Number","LLL":"  Number"}[cL],
h3:" ",de:{"ENG":"Employee Number","FRA":"Numéro d´employé","JPN":"Employee Number","LLL":"Employee Number"}[cL],dv:"",ia:["FE"]},F2:{nm:"EMPIMG",ft:"BL",ln:0,dc:0,lb:{"ENG":"Employee Image","FRA":"Image","JPN":"社員ｲﾒｰｼﾞ","LLL":"Employee Image"}[cL],h1:{"ENG":"Employee","FRA":"Image","JPN":"社員ｲﾒｰｼﾞ","LLL":"Employee"}[cL],h2:{"ENG":"Image","FRA":" ","JPN":" ","LLL":"Image"}[cL],h3:" ",de:{"ENG":"Employee Image","FRA":"Image","JPN":"社員ｲﾒｰｼﾞ","LLL":"Employee Image"}[cL],dv:l.SqlNull,ia:["ASQN","FE","LC"]
},F3:{nm:"DEPTMENT",ft:"A",ln:4,dc:0,lb:{"ENG":"Department.....","FRA":"Département . .","JPN":"部門コード...","LLL":"Department....."}[cL],h1:{"ENG":"  Dept","FRA":"Dépt","JPN":"部門","LLL":"  Dept"}[cL],h2:{"ENG":"  Code","FRA":" ","JPN":"コード","LLL":"  Code"}[cL],h3:" ",de:{"ENG":"Department Code","FRA":"Code du département","JPN":"部門コード","LLL":"Department Code"}[cL],dv:"",ia:["FE"]},F4:{nm:"SECTION",ft:"A",ln:2,dc:0,lb:{"ENG":"Section........","FRA":"Section . . . .","JPN":"課コード","LLL":"Section........"}[cL],
h1:{"ENG":"    Section","FRA":"Section","JPN":"課","LLL":"    Section"}[cL],h2:{"ENG":"     Code","FRA":" ","JPN":"コード","LLL":"     Code"}[cL],h3:" ",de:{"ENG":"Section Code","FRA":"Code section","JPN":"課コード","LLL":"Section Code"}[cL],dv:"",ia:["FE"]},F5:{nm:"SECDESC",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Description ...","FRA":"Description . .","JPN":"Description ...","LLL":"Description ..."}[cL],h1:{"ENG":"Section","FRA":"Description","JPN":"Section","LLL":"Section"}[cL],h2:{"ENG":"Description","FRA":"section","JPN":"Description","LLL":"Description"}[cL],
h3:" ",de:{"ENG":"Section Full Description","FRA":"Description de la section","JPN":"Section Full Description","LLL":"Section Full Description"}[cL],dv:"",ia:["FE","LC"]},F6:{nm:"SURNAME",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Surname........","FRA":"Nom . . . . . .","JPN":"社員姓","LLL":"Surname........"}[cL],h1:{"ENG":"Surname","FRA":"Nom","JPN":"社員姓","LLL":"Surname"}[cL],h2:" ",h3:" ",de:{"ENG":"Employee Surname","FRA":"Nom de l´employé","JPN":"社員姓","LLL":"Employee Surname"}[cL],dv:"",ia:["FE","LC"]
},F7:{nm:"GIVENAME",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Given names....","FRA":"Prénom(s) . . .","JPN":"社員名.......","LLL":"Given names...."}[cL],h1:{"ENG":"Given name(s)","FRA":"Prénom(s)","JPN":"社員名","LLL":"Given name(s)"}[cL],h2:" ",h3:" ",de:{"ENG":"Employee Given Name(s)","FRA":"Prénoms de l´employé","JPN":"社員名","LLL":"Employee Given Name(s)"}[cL],dv:"",ia:["FE","LC"]},F8:{nm:"ADDRESS1",ft:"A",ln:25,dc:0,lb:{"ENG":"Address 1......","FRA":"Adresse 1 . . .","JPN":"Address 1......","LLL":"Address 1......"}[cL],
h1:{"ENG":"Address line 1","FRA":"Adresse ligne 1","JPN":"Address line 1","LLL":"Address line 1"}[cL],h2:" ",h3:" ",de:{"ENG":"Street No and Name","FRA":"Adresse ligne 1","JPN":"Street No and Name","LLL":"Street No and Name"}[cL],dv:"",ia:["FE","LC"]},F9:{nm:"ADDRESS2",ft:"A",ln:25,dc:0,ks:"O",lb:{"ENG":"Address 2......","FRA":"Adresse 2 . . .","JPN":"Address 2......","LLL":"Address 2......"}[cL],h1:{"ENG":"Address line 2","FRA":"Adresse ligne 2","JPN":"Address line 2","LLL":"Address line 2"}[cL],
h2:" ",h3:" ",de:{"ENG":"Suburb or Town","FRA":"Adresse ligne 2","JPN":"Suburb or Town","LLL":"Suburb or Town"}[cL],dv:"",ia:["FE","LC"]},F10:{nm:"ADDRESS3",ft:"A",ln:25,dc:0,ks:"O",lb:{"ENG":"Country","FRA":"Adresse 3 . . .","JPN":"Country","LLL":"Country"}[cL],h1:{"ENG":"Country","FRA":"Adresse ligne 3","JPN":"Country","LLL":"Country"}[cL],h2:" ",h3:" ",de:{"ENG":"State and Country","FRA":"Adresse ligne 3","JPN":"State and Country","LLL":"State and Country"}[cL],dv:"",ia:["FE","LC"]},F11:{nm:"POSTCODE",
ft:"S",ln:6,dc:0,ec:"3",lb:{"ENG":"Post/zip code..","FRA":"Code postal . .","JPN":"Post/zip code..","LLL":"Post/zip code.."}[cL],h1:{"ENG":"Post/zip","FRA":"Code","JPN":"Post/zip","LLL":"Post/zip"}[cL],h2:{"ENG":"Code","FRA":"Postal","JPN":"Code","LLL":"Code"}[cL],h3:" ",de:{"ENG":"Post / Zip Code","FRA":"Code postal","JPN":"Post / Zip Code","LLL":"Post / Zip Code"}[cL],dv:0,ia:["FE"]},F12:{nm:"PHONEHME",ft:"A",ln:15,dc:0,lb:{"ENG":"Home phone.....","FRA":"Tél. personnel","JPN":"Home phone.....","LLL":"Home phone....."}[cL],
h1:{"ENG":"Home phone","FRA":"Téléphone","JPN":"Home phone","LLL":"Home phone"}[cL],h2:{"ENG":"Number","FRA":"Personnel","JPN":"Number","LLL":"Number"}[cL],h3:" ",de:{"ENG":"Home Phone Number","FRA":"Numéro de téléphone personnel","JPN":"Home Phone Number","LLL":"Home Phone Number"}[cL],dv:"",ia:["FE"]},F13:{nm:"PHONEBUS",ft:"A",ln:15,dc:0,lb:{"ENG":"Business ph....","FRA":"Tél. prof.  . .","JPN":"Business ph....","LLL":"Business ph...."}[cL],h1:{"ENG":"Business Phone","FRA":"Téléphone","JPN":"Business Phone","LLL":"Business Phone"}[cL],
h2:{"ENG":"Number","FRA":"professionnel","JPN":"Number","LLL":"Number"}[cL],h3:" ",de:{"ENG":"Business Phone Number","FRA":"Numéro de téléphone professionnel","JPN":"Business Phone Number","LLL":"Business Phone Number"}[cL],dv:"",ia:["FE"]},F14:{nm:"SALARY",ft:"P",ln:11,dc:2,ec:"1",lb:{"ENG":"Salary.........","FRA":"Salaire . . . .","JPN":"Salary.........","LLL":"Salary........."}[cL],h1:{"ENG":"Salary","FRA":"Salaire","JPN":"Salary","LLL":"Salary"}[cL],h2:" ",h3:" ",de:{"ENG":"Employee Salary","FRA":"Salaire de l´employé","JPN":"Employee Salary","LLL":"Employee Salary"}[cL],
dv:0,ia:["FE","RB"]},F15:{nm:"STARTDTE",ft:"S",ln:6,dc:0,ec:"Y",lb:{"ENG":"Start date.....","FRA":"Date d´entrée .","JPN":"入社日付","LLL":"Start date....."}[cL],h1:{"ENG":"Start","FRA":"Date","JPN":"入社","LLL":"Start"}[cL],h2:{"ENG":"Date","FRA":"d´entrée","JPN":"日付","LLL":"Date"}[cL],h3:" ",de:{"ENG":"Start Date (DDMMYY)","FRA":"Date d´entrée, JJMMAA","JPN":"入社日付(DDMMYY)","LLL":"Start Date (DDMMYY)"}[cL],dv:0,ia:["FE","RB"]},F16:{nm:"TERMDATE",ft:"S",ln:6,dc:0,ec:"Y",lb:{"ENG":"Term. date.....","FRA":"Date de départ","JPN":"退職日付","LLL":"Term. date....."}[cL],
h1:{"ENG":"Term.","FRA":"Date de","JPN":"退職","LLL":"Term."}[cL],h2:{"ENG":"Date","FRA":"départ","JPN":"日付","LLL":"Date"}[cL],h3:" ",de:{"ENG":"Termination Date (DDMMYY)","FRA":"Date de départ, JJMMAA","JPN":"退職日付(DDMMYY)","LLL":"Termination Date (DDMMYY)"}[cL],dv:0,ia:["FE","RB"]},F17:{nm:"MNTHSAL",ft:"P",ln:11,dc:2,ec:"1",lb:{"ENG":"Monthly Salary","FRA":"Salaire mensuel","JPN":"Monthly Salary","LLL":"Monthly Salary"}[cL],h1:{"ENG":"Monthly","FRA":"Salaire","JPN":"Monthly","LLL":"Monthly"}[cL],h2:{"ENG":"Salary","FRA":"mensuel","JPN":"Salary","LLL":"Salary"}[cL],
h3:" ",de:{"ENG":"Monthly Salary","FRA":"Salaire mensuel","JPN":"Monthly Salary","LLL":"Monthly Salary"}[cL],dv:0,ia:["FE","RB"]},F18:{nm:"DEPTDESC",ft:"A",ln:20,dc:0,ks:"O",lb:{"ENG":"Description....","FRA":"Description . .","JPN":"Description....","LLL":"Description...."}[cL],h1:{"ENG":"Department","FRA":"Description","JPN":"Department","LLL":"Department"}[cL],h2:{"ENG":"Description","FRA":"Département","JPN":"Description","LLL":"Description"}[cL],h3:" ",de:{"ENG":"Department Description","FRA":"Département","JPN":"Department Description","LLL":"Department Description"}[cL],
dv:"",ia:["FE","LC"]},F19:{nm:"IO$STS",ft:"A",ln:2,dc:0,lb:{"ENG":"I/O status ....","FRA":"Statut I/O  . .","JPN":"I/O status ....","LLL":"I/O status ...."}[cL],h1:{"ENG":"I/O","FRA":"Statut","JPN":"I/O","LLL":"I/O"}[cL],h2:{"ENG":"Status","FRA":"I/O","JPN":"Status","LLL":"Status"}[cL],h3:" ",de:{"ENG":"Data base I/O operation status code","FRA":"Code statut opération I/O","JPN":"Data base I/O operation status code","LLL":"Data base I/O operation status code"}[cL],dv:"",ia:["FE"]}};var cO=l.rC(oI,
{an:"PRIM_OBJT",fd:Fd,pt:{IsEmployeesLoaded:{da:"rw"},SyncedWithServer:{da:"na"},IsDeptsLoaded:{da:"rw"},Employees:{da:"r"},Departments:{da:"r"}},mt:{Open:{ps:{"Proxy":{pt:"i"}}},Close:{ps:{"Document":{pt:"i"}}},FindEmployeeProxyById:{ps:{"Identifier":{pt:"i"}}},UpdateEmployee:{ps:{"EmployeeDocument":{pt:"i"}}},Delete:{ps:{"EmployeeProxy":{pt:"i"}}},LoadData:{},LoadEmployees:{},LoadDepartments:{},FindDepartmentByCode:{ps:{"DepartmentCode":{pt:"i"}}},SyncAllChangesWithServer:{},ResetEmployeeCache:
{}},ev:{EmployeesLoaded:{},EmployeeDocumentCreated:{ps:{"EmployeeDocument":{pt:"i"}}},EmployeeUpdated:{ps:{"Employee":{pt:"i"}}},DepartmentsLoaded:{},SaveCompleted:{},SyncCompleted:{ps:{"Success":{pt:"i"},"Employee":{pt:"i"}}},InitFailure:{}},co:function(){cO.aN.call(this);var f=this.aF("XDODATA",Fd);var C0=this.cR("EMPLOYEEDATALOADED","PRIM_BOLN");var C1=this.cR("DEPARTMENTDATALOADED","PRIM_BOLN");var C2=this.cR("EMPLOYEESDATA","PRIM_WEB","Json");var C3=this.cR("DEPARTMENTSDATA","PRIM_WEB","Json");
var C4=this.cR("EMPLOYEEPROXYLIST","PRIM_LCOL");var C5=this.cR("EMPLOYEEDOCUMENTLIST","PRIM_LCOL");var C6=this.cR("DEPARTMENTLIST","PRIM_LCOL");C0.iC();C1.iC();C2.iC();C3.iC();C4.setCollects("XDOEMP");C4.iC();C5.setCollects("XDOEMPDOC");C5.iC();C6.setCollects("XDODEPT");C6.iC();C5.aH("SAVECOMPLETED",this,e1);C5.aH("SYNCCOMPLETED",this,e2);C4.aLF({"EMPNO":f.F1,"SURNAME":f.F6,"GIVENAME":f.F7,"ADDRESS1":f.F8,"ADDRESS2":f.F9,"ADDRESS3":f.F10,"POSTCODE":f.F11,"PHONEHME":f.F12,"PHONEBUS":f.F13,"DEPTMENT":f.F3,"SECTION":f.F4,"SALARY":f.F14,"STARTDTE":f.F15,"TERMDATE":f.F16,"MNTHSAL":f.F17,"EMPIMG":f.F2});
C6.aLF({"DEPTMENT":f.F3,"DEPTDESC":f.F18});var li=this.aL("XDODATA");li.IMAGESWORKINGLIST=l.cLT({"EMPNO":f.F1,"EMPIMG":f.F2},null);li.SECTIONSWORKINGLIST=l.cLT({"DEPTMENT":f.F3,"SECTION":f.F4,"SECDESC":f.F5},null);}});cO.mthGETCHECKSYNCSTATUS=function(){var m=this.REF,r=l.pR(this,cO,"GetCheckSyncStatus",64);var P0=r.cP("RESULT","PRIM_BOLN");r.ln=64;{r.ln=68;P0.set(true);r.ln=71;{var i1=m.EMPLOYEEPROXYLIST.cI();while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());r.ln=73;if(l.s.ne(EMPLOYEE.getSYNCSTATUS(),"SYNCED"))
{r.ln=75;P0.set(false);r.ln=77;break;}r.ln=81;}i1.end();r.dR("EMPLOYEE");}}r.ln=83;return r.rV(P0.get());};function e1(SENDER,Ps){var r=l.eR(this,cO,"#EmployeeDocumentList<>.SaveCompleted",89);r.ln=89;{r.ln=91;this.fE("SAVECOMPLETED");r.ln=93;cO.mthUPDATEEMPLOYEE.call(this,SENDER);}r.ln=95;r.e();};function e2(SENDER,Ps){var m=this.REF,r=l.eR(this,cO,"#EmployeeDocumentList<>.SyncCompleted",98);r.ln=98;{r.ln=100;if(l.s.eq(SENDER.getSYNCSTATUS(),"SYNCED")){r.ln=102;SENDER.getPROXY().setSYNCSTATUS("SYNCED");
r.ln=104;this.mthRESETEMPLOYEECACHE();r.ln=106;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(true);eP.sR("EMPLOYEE",SENDER.getPROXY());this.fE("SYNCCOMPLETED",eP);eP.e();}}else{r.ln=110;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(false);eP.sR("EMPLOYEE",SENDER.getPROXY());this.fE("SYNCCOMPLETED",eP);eP.e();}}r.ln=114;m.EMPLOYEEDOCUMENTLIST.mthREMOVE(SENDER);}r.ln=116;r.e();};cO.mthOPEN=function(p0){var m=this.REF,r=l.mR(this,cO,"Open",123);
var P0=r.cPD("PROXY");var P1=r.cPD("DOCUMENT");P0=p0;r.ln=123;{r.ln=127;P1=r.sR("P1",l.cC("XDOEMPDOC"));r.ln=129;P1.mthPREPARE(P0);r.ln=131;m.EMPLOYEEDOCUMENTLIST.mthINSERT(P1);}r.ln=133;return r.rR(P1);};cO.mthCLOSE=function(p0){var m=this.REF,r=l.mR(this,cO,"Close",135);var P0=r.cPD("DOCUMENT");P0=p0;r.ln=135;{r.ln=138;m.EMPLOYEEDOCUMENTLIST.mthREMOVE(P0);}r.ln=140;r.e();};cO.mthFINDEMPLOYEEPROXYBYID=function(p0){var m=this.REF,r=l.mR(this,cO,"FindEmployeeProxyById",142);var P0=r.cP("IDENTIFIER","PRIM_ALPH");
var P1=r.cPD("RESULT");P0.set(p0);r.ln=142;{r.ln=146;{var i1=m.EMPLOYEEPROXYLIST.cI();while(i1.step()){var PROXY=r.sR("PROXY",i1.item());r.ln=148;if(l.tB(l.s.eq(PROXY.getIDENTIFIER(),P0.get()))){r.ln=150;P1=r.sR("P1",PROXY);r.ln=152;break;}r.ln=156;}i1.end();r.dR("PROXY");}}r.ln=158;return r.rR(P1);};cO.mthUPDATEEMPLOYEE=function(p0){var m=this.REF,r=l.mR(this,cO,"UpdateEmployee",160);var P0=r.cPD("EMPLOYEEDOCUMENT");P0=p0;r.ln=160;{r.ln=164;if((P0.getPROXY()==null)){r.ln=167;m.EMPLOYEEPROXYLIST.mthINSERT(l.cC("XDOEMP"));
r.ln=169;m.EMPLOYEEPROXYLIST.getLast().mthUPDATE(P0);r.ln=171;P0.setPROXY(m.EMPLOYEEPROXYLIST.getLast());}else{r.ln=176;P0.getPROXY().mthUPDATE(P0);}r.ln=181;{var eP=l.ePs();eP.cD("EMPLOYEE");eP.sR("EMPLOYEE",P0.getPROXY());this.fE("EMPLOYEEUPDATED",eP);eP.e();}r.ln=184;this.mthRESETEMPLOYEECACHE();}r.ln=186;r.e();};cO.mthDELETE=function(p0){var f=this.FLD.XDODATA,m=this.REF,r=l.mR(this,cO,"Delete",188);var P0=r.cPD("EMPLOYEEPROXY");P0=p0;var C0=r.cDR("SENDTOSERVER","XDOSERVER","DELETE");C0.iC();
C0.aH("COMPLETED",this,e3);C0.aH("FAILED",this,e4);r.ln=188;{r.ln=194;P0.setSYNCSTATUS("UNSYNCEDDELETE");r.ln=196;this.mthRESETEMPLOYEECACHE();r.ln=198;{var eP=l.ePs();eP.cD("EMPLOYEE");eP.sR("EMPLOYEE",P0);this.fE("EMPLOYEEUPDATED",eP);eP.e();}r.ln=200;C0.mthEXECUTEASYNC({FLD:{"EMPNO":P0.getIDENTIFIER()}},{FLD:{"IO$STS":f.F19}});}r.ln=222;r.e();function e3(sender,Ps){var r=l.eR(this,cO,"#SendtoServer.Completed",202);r.ln=202;{r.ln=205;this.mthRESETEMPLOYEECACHE();r.ln=207;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");
eP.cD("EMPLOYEE");eP.r("SUCCESS").set(true);eP.sR("EMPLOYEE",P0);this.fE("SYNCCOMPLETED",eP);eP.e();}r.ln=210;m.EMPLOYEEPROXYLIST.mthREMOVE(P0);r.ln=212;this.mthRESETEMPLOYEECACHE();}r.ln=214;r.e();}function e4(sender,Ps){var r=l.eR(this,cO,"#SendtoServer.Failed",216);r.ln=216;{r.ln=218;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(false);eP.sR("EMPLOYEE",P0);this.fE("SYNCCOMPLETED",eP);eP.e();}}r.ln=220;r.e();}};cO.mthLOADDATA=function(){var r=l.mR(this,cO,"LoadData",224);
r.ln=224;{r.ln=226;this.mthLOADEMPLOYEES();r.ln=228;this.mthLOADDEPARTMENTS();}r.ln=230;r.e();};cO.mthLOADEMPLOYEES=function(){var li=this.LIST.XDODATA,f=this.FLD.XDODATA,m=this.REF,r=l.mR(this,cO,"LoadEmployees",233);var C0=r.cD("C0");var C1=r.cD("C1");var C2=r.cD("C2");var C3=r.cDR("GETEMPLOYEESBYSURNAME","XDOSERVER","FINDPSLMST2");var C4=r.cDR("GETEMPLOYEEIMAGES","XDOSERVER","FINDALLIMAGES");C3.iC();C4.iC();C3.aH("COMPLETED",this,e5);C3.aH("FAILED",this,e6);C4.aH("COMPLETED",this,e7);C4.aH("FAILED",this,e8);
r.ln=233;{r.ln=245;C0=r.sR("C0",m.EMPLOYEESDATA.mthCREATEROOTOBJECT());r.ln=247;C1=r.sR("C1",C0.mthINSERTARRAY("EMPLOYEES"));r.ln=250;if((l.WEB().getLocalStorage().get("XDOEMPLOYEES")!=null)){r.ln=252;m.EMPLOYEESDATA.set(l.WEB().getLocalStorage().get("XDOEMPLOYEES").getValue());r.ln=254;m.EMPLOYEEPROXYLIST.clearList();r.ln=256;{var i1=m.EMPLOYEESDATA.getRootItem().getItem("EMPLOYEES").cI();while(i1.step()){var ITEM=r.sR("ITEM",i1.item());r.ln=258;m.EMPLOYEEPROXYLIST.addEntry();r.ln=260;m.EMPLOYEEPROXYLIST.get(m.EMPLOYEEPROXYLIST.getItemCount()).mthPOPULATEFROMJSON(ITEM);
r.ln=263;if(l.s.ne(m.EMPLOYEEPROXYLIST.getItem(m.EMPLOYEEPROXYLIST.getItemCount()).getSYNCSTATUS(),"SYNCED")){r.ln=265;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(false);eP.sR("EMPLOYEE",null);this.fE("SYNCCOMPLETED",eP);eP.e();}}r.ln=270;}i1.end();r.dR("ITEM");}r.ln=272;C4.mthEXECUTEASYNC({},{LIST:{"ALLIMAGES":li.IMAGESWORKINGLIST}});}else{r.ln=277;C3.mthEXECUTEASYNC({},{LIST:{"EMPLOYEES":m.EMPLOYEEPROXYLIST}});}}r.ln=326;r.e();function e5(sender,Ps){var r=l.eR(this,cO,"#GetEmployeesBySurname.Completed",282);
r.ln=282;{r.ln=284;this.mthRESETEMPLOYEECACHE();r.ln=287;this.setISEMPLOYEESLOADED(true);r.ln=289;{var eP=l.ePs();eP.cR("SUCCESS","PRIM_BOLN");eP.cD("EMPLOYEE");eP.r("SUCCESS").set(true);eP.sR("EMPLOYEE",null);this.fE("SYNCCOMPLETED",eP);eP.e();}r.ln=291;this.fE("EMPLOYEESLOADED");}r.ln=293;r.e();}function e6(sender,Ps){var r=l.eR(this,cO,"#GetEmployeesBySurname.Failed",296);r.ln=296;{r.ln=298;this.fE("INITFAILURE");}r.ln=300;r.e();}function e7(sender,Ps){var r=l.eR(this,cO,"#GetEmployeeImages.Completed",302);
r.ln=302;{r.ln=304;{var i1=m.EMPLOYEEPROXYLIST.cI();while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());r.ln=306;f.F19.set(lIO=li.IMAGESWORKINGLIST.locateEntry(function(e){return l.s.eq(EMPLOYEE.getIDENTIFIER(),e[0])},null,true));r.ln=308;EMPLOYEE.setIMAGEBLOB(f.F2.get());r.ln=310;}i1.end();r.dR("EMPLOYEE");}r.ln=312;this.setISEMPLOYEESLOADED(true);r.ln=314;this.fE("EMPLOYEESLOADED");}r.ln=316;r.e();}function e8(sender,Ps){var r=l.eR(this,cO,"#GetEmployeeImages.Failed",318);r.ln=318;{r.ln=320;
this.setISEMPLOYEESLOADED(true);r.ln=322;this.fE("EMPLOYEESLOADED");}r.ln=324;r.e();}};cO.mthLOADDEPARTMENTS=function(){var li=this.LIST.XDODATA,f=this.FLD.XDODATA,m=this.REF,r=l.mR(this,cO,"LoadDepartments",328);var C0=r.cD("C0");var C1=r.cD("C1");var C2=r.cD("C2");var C3=r.cD("C3");var C4=r.cD("C4");var C5=r.cDR("GETDEPARTMENTSROUTINE","XDOSERVER","LISTDATA");C5.iC();C5.aH("COMPLETED",this,e9);r.ln=328;{r.ln=347;if((l.WEB().getLocalStorage().get("XDODEPARTMENTS")!=null)){r.ln=350;m.DEPARTMENTSDATA.set(l.WEB().getLocalStorage().get("XDODEPARTMENTS").getValue());
r.ln=353;m.DEPARTMENTLIST.clearList();r.ln=356;{var i1=m.DEPARTMENTSDATA.getRootItem().getItem("DEPARTMENTS").cI();while(i1.step()){var DITEM=r.sR("DITEM",i1.item());r.ln=358;m.DEPARTMENTLIST.addEntry();r.ln=360;m.DEPARTMENTLIST.getItem(m.DEPARTMENTLIST.getItemCount()).mthPOPULATEFROMJSON(DITEM);r.ln=362;}i1.end();r.dR("DITEM");}r.ln=365;this.setISDEPTSLOADED(true);r.ln=367;this.fE("DEPARTMENTSLOADED");}else{r.ln=372;C5.mthEXECUTEASYNC({},{LIST:{"DEPARTMENTS":m.DEPARTMENTLIST,"SECTIONS":li.SECTIONSWORKINGLIST}});
}}r.ln=410;r.e();function e9(sender,Ps){var r=l.eR(this,cO,"#GetDepartmentsRoutine.Completed",377);r.ln=377;{r.ln=380;C0=r.sR("C0",m.DEPARTMENTSDATA.mthCREATEROOTOBJECT());r.ln=382;C1=r.sR("C1",C0.mthINSERTARRAY("DEPARTMENTS"));r.ln=384;{var i1=m.DEPARTMENTLIST.cI();while(i1.step()){var DEPARTMENT=r.sR("DEPARTMENT",i1.item());r.ln=387;for(var i2=1;i2<=li.SECTIONSWORKINGLIST.entryCount();i2++){li.SECTIONSWORKINGLIST.getEntry(i2);if(!(l.s.eq(DEPARTMENT.getIDENTIFIER(),f.F3.get()))){continue;}r.ln=389;
DEPARTMENT.mthADDSECTION(f.F4.get(),f.F5.get());}r.ln=394;DEPARTMENT.mthSAVEASJSON(C1);r.ln=396;}i1.end();r.dR("DEPARTMENT");}r.ln=398;if((l.WEB().getLocalStorage().get("XDODEPARTMENTS")==null)){r.ln=400;l.WEB().getLocalStorage().mthADD("XDODEPARTMENTS",m.DEPARTMENTSDATA.getText());}r.ln=405;this.setISDEPTSLOADED(true);r.ln=406;this.fE("DEPARTMENTSLOADED");}r.ln=408;r.e();}};cO.mthFINDDEPARTMENTBYCODE=function(p0){var m=this.REF,r=l.mR(this,cO,"FindDepartmentByCode",412);var P0=r.cP("DEPARTMENTCODE","PRIM_ALPH");
var P1=r.cPD("RESULT");P0.set(p0);P1=null;r.ln=412;{r.ln=416;{var i1=m.DEPARTMENTLIST.cI();while(i1.step()){var PROXY=r.sR("PROXY",i1.item());r.ln=418;if(l.tB(l.s.eq(PROXY.getIDENTIFIER(),P0.get()))){r.ln=420;P1=r.sR("P1",PROXY);r.ln=422;break;}r.ln=426;}i1.end();r.dR("PROXY");}}r.ln=428;return r.rR(P1);};cO.mthSYNCALLCHANGESWITHSERVER=function(){var m=this.REF,r=l.mR(this,cO,"SyncAllChangesWithServer",431);r.ln=431;{r.ln=433;m.EMPLOYEEDOCUMENTLIST.mthREMOVEALL();r.ln=436;{var i1=m.EMPLOYEEPROXYLIST.cI();
while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());r.ln=438;{var v1=EMPLOYEE.getSYNCSTATUS();if(r.ln=440,l.s.eq(v1,"UNSYNCED")){r.ln=442;cO.mthOPEN.call(this,EMPLOYEE);}else if(r.ln=444,l.s.eq(v1,"UNSYNCEDDELETE")){r.ln=446;cO.mthDELETE.call(this,EMPLOYEE);}r.ln=448;}r.ln=450;}i1.end();r.dR("EMPLOYEE");}r.ln=453;{var i1=m.EMPLOYEEDOCUMENTLIST.cI();while(i1.step()){var DOCUMENT=r.sR("DOCUMENT",i1.item());r.ln=455;DOCUMENT.mthSYNC();r.ln=457;}i1.end();r.dR("DOCUMENT");}}r.ln=459;r.e();};cO.mthRESETEMPLOYEECACHE=function()
{var m=this.REF,r=l.mR(this,cO,"ResetEmployeeCache",462);var C0=r.cD("C0");var C1=r.cD("C1");r.ln=462;{r.ln=469;if((m.EMPLOYEESDATA.getRootItem()!=null)){r.ln=471;m.EMPLOYEESDATA.getRootItem().mthREMOVEALL();}r.ln=475;C0=r.sR("C0",m.EMPLOYEESDATA.mthCREATEROOTOBJECT());r.ln=477;C1=r.sR("C1",C0.mthINSERTARRAY("EMPLOYEES"));r.ln=479;{var i1=this.getEMPLOYEES().cI();while(i1.step()){var EMPLOYEE=r.sR("EMPLOYEE",i1.item());r.ln=481;EMPLOYEE.mthSAVEASJSON(C1);r.ln=483;}i1.end();r.dR("EMPLOYEE");}r.ln=485;
if((l.WEB().getLocalStorage().get("XDOEMPLOYEES")==null)){r.ln=487;l.WEB().getLocalStorage().mthADD("XDOEMPLOYEES",m.EMPLOYEESDATA.getText());}else{r.ln=491;l.WEB().getLocalStorage().get("XDOEMPLOYEES").set(m.EMPLOYEESDATA.getText());}}r.ln=495;r.e();};cO.getISEMPLOYEESLOADED=function(){return this.REF.EMPLOYEEDATALOADED.get();};cO.setISEMPLOYEESLOADED=function(v){this.REF.EMPLOYEEDATALOADED.set(v);};cO.getSYNCEDWITHSERVER=function(){return this.mthGETCHECKSYNCSTATUS();};cO.getISDEPTSLOADED=function()
{return this.REF.DEPARTMENTDATALOADED.get();};cO.setISDEPTSLOADED=function(v){this.REF.DEPARTMENTDATALOADED.set(v);};cO.getEMPLOYEES=function(){return this.REF.EMPLOYEEPROXYLIST;};cO.getDEPARTMENTS=function(){return this.REF.DEPARTMENTLIST;};},{rp:["PRIM_OBJT","PRIM_BOLN","PRIM_WEB.Json","PRIM_LCOL","PRIM_WEB.DataRequest"],dp:["PRIM_WEB.JsonObject","PRIM_WEB.JsonArray"]});